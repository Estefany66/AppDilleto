@model IEnumerable<AppDilleto.Models.Proforma>

@{
    ViewData["Title"] = "Index";
}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<div class="card text-center" >
  <div class="card-header" >
  </div>
  <div class="card-body" style="background: #FADBD8 ;">
    <h5 class="card-title"><h2 style="-webkit-text-stroke: 2px  black;color: #FDFEFE; text-align: center;  font-size: 50px;"> Realizar Compra </h2></h5>
    <p class="card-text">
    </p>
  </div>
  <div class="card-footer text-muted">
  </div>
</div>


<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Producto.ImagenName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Producto.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quantity)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Price)
            </th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            
            <td>
                <img class="img-responsive" width="96" height="150"
                       src="~/img/@item.Producto.ImagenName" alt="@item.ImagenName"  />
            </td>
            <td >
                @Html.DisplayFor(modelItem => item.Producto.Name)
            </td>
            <td >
                @Html.DisplayFor(modelItem => item.Quantity)
            </td>
            <td >
                @Html.DisplayFor(modelItem => item.Price)
            </td>
            <td>
               
                <a asp-action="Edit" class="btn btn-danger"  style="background: #F7819F"  asp-route-id="@item.ID">Editar</a>
                <a asp-action="Delete" class="btn btn-danger"   style="background: #F7819F" asp-route-id="@item.ID">Borrar</a>

            </td>
        </tr>
}


<main>
        <div class="container">
            <div class="row mt-3">
                <div class="col">
                    <form id="procesar-pago" action="#">
                        <div class="row">
  <div class="col">
    <!-- Name input -->
    <div class="form-outline">
      <input type="text" id="form8Example1" class="form-control" />
      <label class="form-label" for="form8Example1">Nombres</label>
    </div>
  </div>
  <div class="col">
    <!-- Email input -->
    <div class="form-outline">
      <input type="email" id="form8Example2" class="form-control" />
      <label class="form-label" for="form8Example2">Direccion</label>
    </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <!-- Name input -->
    <div class="form-outline">
      <input type="text" id="form8Example3" class="form-control" />
      <label class="form-label" for="form8Example3">Apellido Paterno</label>
    </div>
  </div>
  <div class="col">
    <!-- Name input -->
    <div class="form-outline">
      <input type="text" id="form8Example4" class="form-control" />
      <label class="form-label" for="form8Example4">Apellido materno</label>
    </div>
  </div>
  <div class="col">
    <!-- Email input -->
    <div class="form-outline">
      <input type="email" id="form8Example5" class="form-control" />
      <label class="form-label" for="form8Example5">Email address</label>
    </div>
  </div>
</div>
<hr />
<!-- Gutter g-1 -->
<div class="row g-1">
  <div class="col">
    <!-- Name input -->
    <div class="form-outline">
      <input type="text" id="form9Example1" class="form-control" />
      <label class="form-label" for="form9Example1">Nombre Tarjeta</label>
    </div>
  </div>
  <div class="col">
    <!-- Email input -->
    <div class="form-outline">
      <input type="email" id="form9Example2" class="form-control" />
      <label class="form-label" for="form9Example2">Numero de la tarjeta</label>
    </div>
  </div>
</div>
<!-- Gutter g-5 -->
<div class="row g-5">
  <div class="col">
    <!-- Name input -->
    <div class="form-outline">
      <input type="text" id="form9Example3" class="form-control" />
      <label class="form-label" for="form9Example3">Fecha de vencimiento</label>
    </div>
  </div>
  <div class="col">
    <!-- Email input -->
    <div class="form-outline">
      <input type="email" id="form10Example2" class="form-control" />
      <label class="form-label" for="form10Example2">CVV</label>
    </div>
  </div>
</div>

<hr />

@{
          Decimal total = 0;
        
         var contar = 0;
      }
      @foreach (var item in Model){
         <tr>
            @{
              
               total = total + item.Price*item.Quantity;
               contar++;
            }
         </tr>
      }

                        <div id="carrito" class="table-responsive">
                            <table class="table" id="lista-compra">
                                <thead>
                                    
                                </thead>

                                <tr>
                                    <th colspan="4" scope="col" class="text-center">SUB TOTAL : S/. 81.90</th>
                                    <th scope="col">
                                        <p id="subtotal"></p>
                                    </th>
                                    <!-- <th scope="col"></th> -->
                                </tr>
                                <tr>
                                    <th colspan="4" scope="col" class="text-center">IGV : S/. 17.98</th>
                                    <th scope="col">
                                        <p id="igv"></p>
                                    </th>
                                    <!-- <th scope="col"></th> -->
                                </tr>
                                <tr>
                                    <th colspan="4" scope="col" class="text-center">Total : S/. @total</th>
                                    <th scope="col">
                                        <p id="total"></p>
                                    </th>
                                    <!-- <th scope="col"></th> -->
                                </tr>

                            </table>
                        </div>

                        <div class="row justify-content-center" id="loaders">

                            <img id="cargando" src="~/img/cargando2.gif" width="220">

                        </div>


                        <div class="row justify-content-around" style=" margin-left:-5%;" >
                            <div class="col-xs-12 col-md-4" >
                                <a href="~/Catalogo" class="btn btn-outline-danger" style="width:300px;">Seguir comprando</a>
                            </div>
                            <div class="col-xs-12 col-md-4">
                                
                                <button id="confirmar" class="btn btn-outline-danger" id="procesar-compra" style="border-radius: 4px; width:300px;" type="submit"  >Realizar Compra</button>
                            </div>
                        </div>
                        
                    </form>


                </div>


            </div>

        </div>
    </main>
        </tbody>
</table>

@if ((String)TempData["prueba02"] == "prueba02") 
{
    <input value="hola" id="prueba02" type="hidden">
}
@if ((String)TempData["prueba03"] == "prueba03") 
{
    <input value="hola" id="prueba03" type="hidden">
}

   <script>
       Swal.confirmar{
title:'bie'

       }
 </script>
   <script>
        
        var y = document.getElementById('prueba02').value;

        if(y == "hola") {

            Swal.fire(
                'Editado correctamente',
                'El Producto se ha editado correctamente',
                'success'
            )
        }
   </script> 
    <script>
        
        var y = document.getElementById('prueba03').value;

        if(y == "hola") {

            Swal.fire(
                'Eliminacion  correcta',
                'El Producto se ha Eliminado correctamente',
                'success'
            )
        }
   </script> 